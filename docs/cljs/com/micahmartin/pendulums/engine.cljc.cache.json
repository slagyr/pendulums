["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:use-macros",["^ "],"~:excludes",["~#set",[]],"~:name","~$com.micahmartin.pendulums.engine","~:imports",null,"~:requires",["^ ","~$math","~$com.micahmartin.pendulums.math","^:","^:"],"~:cljs.spec/speced-vars",[],"~:uses",null,"~:defs",["^ ","~$make-system",["^ ","~:protocol-inline",null,"~:meta",["^ ","~:file","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","~:line",32,"~:column",7,"~:end-line",32,"~:end-column",18,"~:arglists",["~#list",["~$quote",["^G",[["~$pendulums"],["^I","~$gravity"]]]]],"~:doc","Creates a pendulum system with the given pendulums and optional gravity.\n   Pendulums are ordered root-first: first pendulum is attached to fixed pivot,\n   each subsequent pendulum is attached to the bob of the previous one.","~:top-fn",["^ ","~:variadic?",false,"~:fixed-arity",2,"~:max-fixed-arity",2,"~:method-params",[["^I"],["^I","^J"]],"^F",["^G",[["^I"],["^I","^J"]]],"~:arglists-meta",["^G",[null,null]]]],"^5","~$com.micahmartin.pendulums.engine/make-system","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",18,"^L",["^ ","^M",false,"^N",2,"^O",2,"^P",[["^I"],["^I","^J"]],"^F",["^G",[["^I"],["^I","^J"]]],"^Q",["^G",[null,null]]],"^P",[["^I"],["^I","^J"]],"~:protocol-impl",null,"^N",2,"^Q",["^G",[null,null]],"^C",1,"^M",false,"~:methods",[["^ ","^N",1,"^M",false,"~:tag","~$any"],["^ ","^N",2,"^M",false,"^U","~$cljs.core/IMap"]],"^B",32,"^D",32,"^O",2,"~:fn-var",true,"^F",["^G",[["^I"],["^I","^J"]]],"^K","Creates a pendulum system with the given pendulums and optional gravity.\n   Pendulums are ordered root-first: first pendulum is attached to fixed pivot,\n   each subsequent pendulum is attached to the bob of the previous one."],"~$pendulum-count",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",298,"^C",7,"^D",298,"^E",21,"^F",["^G",["^H",["^G",[["~$sys"]]]]],"^K","Returns the number of pendulums in the system."],"^5","~$com.micahmartin.pendulums.engine/pendulum-count","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",21,"^P",["^G",[["^Z"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",298,"~:ret-tag","~$number","^D",298,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Returns the number of pendulums in the system."],"~$step",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",249,"^C",7,"^D",249,"^E",11,"^F",["^G",["^H",["^G",[["^Z","~$dt"]]]]],"^K","Advances the simulation by dt seconds using RK4 integration."],"^5","~$com.micahmartin.pendulums.engine/step","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",11,"^P",["^G",[["^Z","^13"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",249,"^10","~$clj","^D",249,"^O",2,"^X",true,"^F",["^G",["^H",["^G",[["^Z","^13"]]]]],"^K","Advances the simulation by dt seconds using RK4 integration."],"~$derivatives",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",240,"^C",8,"^D",240,"^E",19,"~:private",true,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Calculates derivatives of state: [omega1, alpha1, omega2, alpha2, ...]"],"^17",true,"^5","~$com.micahmartin.pendulums.engine/derivatives","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",19,"^P",["^G",[["^Z"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",240,"^10",["^4",["^15","~$cljs.core/IVector","^V","~$cljs.core/MetaFn","~$clj-nil"]],"^D",240,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Calculates derivatives of state: [omega1, alpha1, omega2, alpha2, ...]"],"~$set-pendulum-angle",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",303,"^C",7,"^D",303,"^E",25,"^F",["^G",["^H",["^G",[["^Z","~$idx","~$theta"]]]]],"^K","Sets the angle of pendulum at index idx and resets its velocity to zero."],"^5","~$com.micahmartin.pendulums.engine/set-pendulum-angle","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",25,"^P",["^G",[["^Z","^1=","^1>"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",303,"^10","^15","^D",303,"^O",3,"^X",true,"^F",["^G",["^H",["^G",[["^Z","^1=","^1>"]]]]],"^K","Sets the angle of pendulum at index idx and resets its velocity to zero."],"~$accelerations",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",211,"^C",7,"^D",211,"^E",20,"^F",["^G",["^H",["^G",[[["^ ","~:keys",["^I"],"~:as","^Z"]]]]]],"^K","Calculates angular accelerations for all pendulums in the system.\n   Returns a vector of accelerations (rad/s^2), one per pendulum."],"^5","~$com.micahmartin.pendulums.engine/accelerations","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",20,"^P",["^G",[["~$p__6644"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",211,"^D",211,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"],"^1B","^Z"]]]]]],"^K","Calculates angular accelerations for all pendulums in the system.\n   Returns a vector of accelerations (rad/s^2), one per pendulum."],"~$apply-state",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",230,"^C",8,"^D",230,"^E",19,"^17",true,"^F",["^G",["^H",["^G",[["^Z","~$state"]]]]],"^K","Applies state vector back to system, returning updated system."],"^17",true,"^5","~$com.micahmartin.pendulums.engine/apply-state","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",19,"^P",["^G",[["^Z","^1F"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",230,"^10","^15","^D",230,"^O",2,"^X",true,"^F",["^G",["^H",["^G",[["^Z","^1F"]]]]],"^K","Applies state vector back to system, returning updated system."],"~$make-pendulum",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",18,"^C",7,"^D",18,"^E",20,"^F",["^G",["^H",["^G",[[],[["^ ","^1A",["^1>","~$omega","~$length","~$mass"],"~:or",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]]]]],"^K","Creates a pendulum with the given parameters.\n   - theta: angle from vertical (radians), positive = clockwise\n   - omega: angular velocity (rad/s)\n   - length: arm length (meters)\n   - mass: bob mass (kg), defaults to 1.0","^L",["^ ","^M",false,"^N",1,"^O",1,"^P",[[],[["^ ","^1A",["^1>","^1I","^1J","^1K"],"^1L",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]],"^F",["^G",[[],[["^ ","^1A",["^1>","^1I","^1J","^1K"],"^1L",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]]],"^Q",["^G",[null,null]]]],"^5","~$com.micahmartin.pendulums.engine/make-pendulum","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",20,"^L",["^ ","^M",false,"^N",1,"^O",1,"^P",[[],[["^ ","^1A",["^1>","^1I","^1J","^1K"],"^1L",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]],"^F",["^G",[[],[["^ ","^1A",["^1>","^1I","^1J","^1K"],"^1L",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]]],"^Q",["^G",[null,null]]],"^P",[[],[["^ ","^1A",["^1>","^1I","^1J","^1K"],"^1L",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]],"^S",null,"^N",1,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^T",[["^ ","^N",0,"^M",false,"^U","^V"],["^ ","^N",1,"^M",false,"^U","^W"]],"^B",18,"^D",18,"^O",1,"^X",true,"^F",["^G",[[],[["^ ","^1A",["^1>","^1I","^1J","^1K"],"^1L",["^ ","^1>",0.0,"^1I",0.0,"^1J",1.0,"^1K",1.0]]]]],"^K","Creates a pendulum with the given parameters.\n   - theta: angle from vertical (radians), positive = clockwise\n   - omega: angular velocity (rad/s)\n   - length: arm length (meters)\n   - mass: bob mass (kg), defaults to 1.0"],"~$single-pendulum-acceleration",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",115,"^C",8,"^D",115,"^E",36,"^17",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^J"]],["^ ","^1A",["^1>","^1J"]]]]]]],"^K","Calculates angular acceleration for a single pendulum.\n   alpha = -g/L * sin(theta)"],"^17",true,"^5","~$com.micahmartin.pendulums.engine/single-pendulum-acceleration","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",36,"^P",["^G",[["~$p__6590","~$p__6591"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",115,"^10","^11","^D",115,"^O",2,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^J"]],["^ ","^1A",["^1>","^1J"]]]]]]],"^K","Calculates angular acceleration for a single pendulum.\n   alpha = -g/L * sin(theta)"],"~$kinetic-energy",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",68,"^C",7,"^D",68,"^E",21,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"],"^1B","^Z"]]]]]],"^K","Calculates total kinetic energy of the system."],"^5","~$com.micahmartin.pendulums.engine/kinetic-energy","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",21,"^P",["^G",[["~$p__6569"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",68,"^10","^11","^D",68,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"],"^1B","^Z"]]]]]],"^K","Calculates total kinetic energy of the system."],"~$n-pendulum-accelerations",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",121,"^C",8,"^D",121,"^E",32,"^17",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^J","^I"]]]]]]],"^K","Calculates angular accelerations for n coupled pendulums.\n   Uses the mass matrix formulation: M * alpha = F\n   Where M is the mass matrix and F is the force vector."],"^17",true,"^5","~$com.micahmartin.pendulums.engine/n-pendulum-accelerations","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",32,"^P",["^G",[["~$p__6595"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",121,"^10","^V","^D",121,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^J","^I"]]]]]]],"^K","Calculates angular accelerations for n coupled pendulums.\n   Uses the mass matrix formulation: M * alpha = F\n   Where M is the mass matrix and F is the force vector."],"~$potential-energy",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",96,"^C",7,"^D",96,"^E",23,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I","^J"],"^1B","^Z"]]]]]],"^K","Calculates total potential energy of the system.\n   Reference: y=0 at the root pivot."],"^5","~$com.micahmartin.pendulums.engine/potential-energy","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",23,"^P",["^G",[["~$p__6582"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",96,"^10",["^4",[null,"^V"]],"^D",96,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I","^J"],"^1B","^Z"]]]]]],"^K","Calculates total potential energy of the system.\n   Reference: y=0 at the root pivot."],"~$remove-pendulum",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",284,"^C",7,"^D",284,"^E",22,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Removes the last pendulum from the chain. Returns unchanged if only one pendulum."],"^5","~$com.micahmartin.pendulums.engine/remove-pendulum","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",22,"^P",["^G",[["^Z"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",284,"^10",["^4",[null,"^15"]],"^D",284,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Removes the last pendulum from the chain. Returns unchanged if only one pendulum."],"~$total-energy",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",106,"^C",7,"^D",106,"^E",19,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Calculates total mechanical energy (KE + PE) of the system."],"^5","~$com.micahmartin.pendulums.engine/total-energy","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",19,"^P",["^G",[["^Z"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",106,"^10","^11","^D",106,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Calculates total mechanical energy (KE + PE) of the system."],"~$add-pendulum",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",279,"^C",7,"^D",279,"^E",19,"^F",["^G",["^H",["^G",[["^Z","~$pendulum"]]]]],"^K","Adds a new pendulum to the end of the chain."],"^5","~$com.micahmartin.pendulums.engine/add-pendulum","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",19,"^P",["^G",[["^Z","^24"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",279,"^10","^15","^D",279,"^O",2,"^X",true,"^F",["^G",["^H",["^G",[["^Z","^24"]]]]],"^K","Adds a new pendulum to the end of the chain."],"~$state-vector",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",225,"^C",8,"^D",225,"^E",20,"^17",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"]]]]]]],"^K","Extracts state vector [theta1, omega1, theta2, omega2, ...] from system."],"^17",true,"^5","~$com.micahmartin.pendulums.engine/state-vector","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",20,"^P",["^G",[["~$p__6648"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",225,"^10",["^4",["^15","^19","^V","^1:","^1;"]],"^D",225,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"]]]]]]],"^K","Extracts state vector [theta1, omega1, theta2, omega2, ...] from system."],"~$step-with-trails",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",310,"^C",7,"^D",310,"^E",23,"^F",["^G",["^H",["^G",[["~$system","^13","~$trail-duration","~$trails","~$now"]]]]],"^K","Steps the simulation forward by dt and updates the trails.\n   Returns [new-system new-trails].\n   trails: vector of trail vectors, each trail vector contains maps {:pos [x y] :time t}\n   trail-duration: how long to keep trail points (seconds)\n   now: current time (milliseconds)"],"^5","~$com.micahmartin.pendulums.engine/step-with-trails","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",23,"^P",["^G",[["^2:","^13","^2;","^2<","^2="]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",310,"^10","^19","^D",310,"^O",5,"^X",true,"^F",["^G",["^H",["^G",[["^2:","^13","^2;","^2<","^2="]]]]],"^K","Steps the simulation forward by dt and updates the trails.\n   Returns [new-system new-trails].\n   trails: vector of trail vectors, each trail vector contains maps {:pos [x y] :time t}\n   trail-duration: how long to keep trail points (seconds)\n   now: current time (milliseconds)"],"~$bob-positions",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",45,"^C",7,"^D",45,"^E",20,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"]]]]]]],"^K","Calculates the (x, y) position of each bob in the system.\n   Returns a vector of [x y] pairs, one for each pendulum.\n   Coordinate system: origin at root pivot, y positive downward."],"^5","~$com.micahmartin.pendulums.engine/bob-positions","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",20,"^P",["^G",[["~$p__6561"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",45,"^10",["^4",["^15","^19"]],"^D",45,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[[["^ ","^1A",["^I"]]]]]]],"^K","Calculates the (x, y) position of each bob in the system.\n   Returns a vector of [x y] pairs, one for each pendulum.\n   Coordinate system: origin at root pivot, y positive downward."],"~$default-gravity",["^ ","^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",12,"^C",14,"^D",12,"^E",29,"~:const",true],"^5","~$com.micahmartin.pendulums.engine/default-gravity","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",29,"~:const-expr",["^ ","~:op","^2C","~:val",9.81,"~:env",["^ ","~:context","~:expr"],"~:form",9.81,"^U","^11"],"^C",1,"^2C",true,"^B",12,"^D",12,"^U","^11"],"~$reset-velocities",["^ ","^?",null,"^@",["^ ","^A","/Users/micahmartin/Projects/pendulums/src/cljc/com/micahmartin/pendulums/engine.cljc","^B",291,"^C",7,"^D",291,"^E",23,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Resets all angular velocities to zero, keeping current angles."],"^5","~$com.micahmartin.pendulums.engine/reset-velocities","^A","src/cljc/com/micahmartin/pendulums/engine.cljc","^E",23,"^P",["^G",[["^Z"]]],"^S",null,"^Q",["^G",[null,null]],"^C",1,"^M",false,"^B",291,"^10","^15","^D",291,"^O",1,"^X",true,"^F",["^G",["^H",["^G",[["^Z"]]]]],"^K","Resets all angular velocities to zero, keeping current angles."]],"~:cljs.spec/registry-ref",[],"~:require-macros",null,"~:cljs.analyzer/constants",["^ ","~:seen",["^4",["~:mass","~:pendulums","~:time","~:pos","~:theta","~:gravity","~:omega","~:length"]],"~:order",["^2V","^2X","^2Y","^2R","^2S","^2W","^2T","^2U"]],"^K","Physics engine for coupled pendulum simulation.\n   This namespace contains pure functions for pendulum mechanics.\n\n   Coordinate system:\n   - Origin at the root pivot point\n   - Positive x to the right\n   - Positive y downward (for computational convenience)\n   - Angles measured from vertical (hanging down), positive clockwise","~:as-aliases",["^ "]]